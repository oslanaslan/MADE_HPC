# MADE_HPC
MADE High Performance Computing course

## Task 1

1. 50% На основании данных рейтинга top500 спрогнозировать  производительность компьютера №1 в 2025
2. 50% оцените какой процент всего производимого на Земле электричества потребляют все компьютеры из top500 (на основании открытых данных top500.org)
3. 10% Бонус: Улучшить производительность программы с реализацией алгоритма матричного умножения (сниппет https://bit.ly/339RAhp )

## Task 2

1. Реализовать классическое перемножение матриц и умножение матрицы на вектор на C/C++ с разным порядком циклов (25%)
2. Разбейте на модули, со статической линковкой скомпилируйте текст, подготовьте Makefile, проверьте флаги -g,  -O3 (25%)
3. Измерьте времена исполнения для размеров $N = 500, 512, 1000, 1024, 2000, 2048$  (25%) в т.ч. проведите сравнение с виртуальной машиной, докером (опционально)
4. И базовые скрипты баш (25%)
    4.1. Цикл по чётным от 100 до 1000
    4.2. Цикл по массиву
    4.3. 100 + 0.5 с помощью bash и bc
    4.4. check if subdirectory "Linux" exists in present directory. If yes, print message "course". If no, print message "very easy" and create the "Linux" directory
5. Бонус за [линпак](https://people.sc.fsu.edu/~jburkardt/c_src/linpack_bench/linpack_bench.html) (+20%)
6. Супербонус протестируйте алгоритм Штрассена (+20%)

## Task 3

Cheat sheet on [OpenMP](https://www.openmp.org/wp-content/uploads/OpenMP-4.0-C.pdf​). [Gists](https://gist.github.com/ssstuvz/574c3d1eb663980a5487af2e773d2460)

Скачайте код, скомпилируйте:
`$ <cc> <codefile.c> -o <executable> -fopenmp`
Укажите компилятор (`cc`), например, `gcc` для `.c` файлов в Ubuntu.
Как запустить код:
`$ ./<executable>`

1. Демонстрационные файлы – работающие примеры кодов для понимания OpenMP. Эти задания не оцениваются.
`omp_hello.c` – простейшая программа печатающая ‘Hello world’. Введение в конструкцию ‘parallel’. 
Задание:

    а) научитесь вручную менять кол-во нитей, исполняемых в программе путем изменения переменной окружения:
    `$ export OMP_NUM_THREADS=<number you want>`

    b) научитесь задавать кол-во нитей внутри программы.

    `omp_outmes.cpp` – сравнение параллельного I/O C и C++. Пример на понимания понятия “threadsafe”. Пример конструкции critical. Компиляция:
    `$ g++ OutMes.cpp -o <executable> -fopenmp`
    `omp_privateshared.c` – пример общих и приватных переменных, конструкции ‘for’. Задание: запустите программу, разберитесь, что делают все команды с `#pragma`.
    `omp_parsec.c` – пример использования конструкции section. Задание: перед запуском, попытайтесь угадать вывод программы, потом проверьте.
    `omp_sumarray.c` – пример использования редукции. Обратите внимание на конструкцию #pragma omp parallel for – в чем разница между этой конструкцией и `#pragma omp` `parallel … #pragma omp for`

2. Программы с багами – примеры программ, которые надо починить.
`omp_bugreduction.c` – код для скалярного произведения двух векторов. Дополнить функцию dotprod, проверить баги в #pragma omp, проверить результат. (20 %)
`omp_bugparfor.c` – Найти и устранить ошибки. (20 %)

3. Написать параллельную программу, использующую метод Монте-Карло для оценки числа pi. Случайным образом (аккуратнее с генератором случайных чисел! Пример в лекции) кидаете точку в единичный квадрат. В этот же квадрат вписан круг. Если точка попала в круг, увеличиваете счетчик. Затем находите отношение точек, попавших в круг к общему числу точек. Зная площади квадрата и круга, находите приблизительно число pi. (60 %)

`Note:` clock() measures the sum of wall clocks across all threads. Use omp_get_wtime() instead (it returns value in seconds).

## Task 4

- Сгенерируйте слачайные графы и протестируйте пересчет числа маршрутов в графе через вычисление степени матрицы связности $A^m$. Реализуйте через быстрое возвежение в степень за $log_2(m)$ матричных умножений (30 %).
- Сгенерируйте (или предложите) небольшой случайный граф и реализуйте процедуру вычисления вектора Pagerank. Сопоставьте с наивным ранжированием по числу входящих ссылок ranking (40 %).
- Воспользуйтесь всеми трюками по оптимизации производительности: optimization, blas, openmp, loops placing (30 %)
- Research-ориентированным людям рекомендуется изучить SimRank (вне оценивания, но стоит упоминания)

## Task 5

- Представим, что процессы – это компания незнакомых людей, которые знакомятся с помощью следующей игры:
-- Начинает процессор 0. Случайным образом он выбирает другой процессор i и посылает ему сообщение со своим именем (можете случайным образом задавать имя)
-- Процессор i отсылает сообщение случайному процессору j (которые еще не участвовал в игре), в сообщении – все имена и ранги предыдущих процессоров в правильном порядке. Номер процессора j знает только I, так что все должны быть начеку.
-- Игра заканчивается через N ходов. Используйте синхронную пересылку MPI_SSend. Напишите программу используя MPI. (25 баллов)
- Параллельный одномерный клеточный автомат.  С помощью MPI распараллельте одномерный клеточный автомат Вольфрама (Rule110). Игра происходит следующим образом:
-- Инициализируйте одномерный массив 0 и 1 случайным образом
-- В зависимости от значений: левого соседа, себя, правого соседа на следующем шаге клетка либо меняет значение, либо остается той же. Посмотрите, например, что значит Rule110 (https://en.wikipedia.org/wiki/Rule_110)
-- Сделайте периодические и непериодические граничные условия (5 баллов)
-- Работает параллельный код на нескольких процессах (20 баллов)
-- Имплементированы клетки-призраки (ghost cells) (10 балла)
-- Можно поменять правило игры (сделать одно из 256) (20 баллов)
-- График ускорения работы программы от кол-ва процессов (5 баллов)
-- Картинка эволюции для одного правила (15 баллов)

## Task 6

Зафиксируйте какую-либо многомерную скалярную функцию и реализуйте для неё анализ чувствительности по методу Соболя на Python с использованием библиотеки SALib.

- Проведите анализ чувствительности, проверьте сходимость, измерьте тайминги, 25 баллов
- Ускорьте вычисления Python с использованием любой из имеющихся возможностей (PyBind11, ctypes, cython, numba), 25 баллов
- Попробуйте добавить параллелизм в вычисления, 25 баллов
- Оформите и представьте результаты, 25 баллов
